---
title: "2023 Ontario Monthly Communicable Disease Specified Cases Study"
subtitle: "Discussions and Graphs"
author: 
  - Ruiyang Wang
thanks: "Code and data are available at: https://github.com/Ruiyang-Wang/STA304-Paper-1.git"
date: September 24, 2024
date-format: long
abstract: "This paper examines the monthly trends of three communicable diseases—HIV, Salmonellosis, and Influenza(sporadic) - in 2023 of Ontario. We use data from the City of Toronto’s Open Data Portal, and conduct an analysis to identify seasonal patterns and peaks for each disease. For HIV, the data shows a notable peak, suggesting potential influences on inappropriate social activities in the certain season. Salmonellosis shows a significant rise of case number during the summer, highlighting the importance of the role of environmental and food safety problems. Influenza cases, increased dramatically in December, marking the onset of the flu season. These trends underscore the need for targeted public health interventions, such as enhanced awareness campaigns during identified peak periods and improved vaccination coverage for influenza. Understanding these patterns is crucial for optimizing resource allocation,and improving healthcare systems decisions in Ontario."
format: pdf
number-sections: true
bibliography: references.bib
header-includes:
  - \usepackage{indentfirst}
  - \setlength{\parindent}{2em} # Optional: Set global paragraph indentation
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(ggplot2)
library(dplyr)
library(tidyr)
library(knitr)

setwd("/home/rstudio/STA304 Paper1")
analysis_data <- read_csv(("data/analysis_data/analysis_data.csv"))

```


# Introduction {#sec-intro}

In 2023, Ontario, Canada, experienced distinct trends in the prevalence of communicable diseases such as HIV, Salmonellosis, and Sporadic Influenza. Monitoring and analyzing the seasonal patterns of these diseases is crucial for public health.

HIV, a chronic and life-threatening condition caused by the human immunodeficiency virus, has shown relatively stable case numbers throughout the year. 

Salmonellosis is an infection caused by the Salmonella bacteria, typically contracted through the consumption of contaminated food or water. It commonly results in gastrointestinal symptoms such as diarrhea, fever, and abdominal cramps.

Sporadic Influenza, commonly known as the flu, is a highly contagious respiratory illness caused by influenza viruses.

This paper aims to analyze the statistical trends of these three diseases in Ontario throughout 2023, providing a general overview of their seasonal patterns. We also identify potential drivers of these trends and discuss their implications for public health policy. The findings will contribute to a better understanding of disease dynamics in the region and then support the development of prevention and strategies.

We use data and codes from @talia, @opendatatoronto, and @rohan. The exact data is from @toronto2023data.

The remainder of this paper is structured as follows.

- [@sec-intro] Introduction
- [@sec-mydatasection] Data Summary
- [@sec-point] Disease Analysis
- [@sec-first-point] HIV
- [@sec-sec-point] Salmonellosis
- [@sec-trd-point] Sporadic Influenza
- [@sec-weakness] Weakness and Next Step
- [@sec-appen] Appendix
- [@sec-ref] References



# Data Summary {#sec-mydatasection}

Our data is from @opendatatoronto, named "Monthly Communicable Disease Surveillance". The time range of the whole dataset is from 2016 to 2024. We only extract 3 classic diseases in this dataset for simplification, and set the year of analysis to 2023, which is the most recent full-year data and most unaffected data by COVID-19 after the 2019 Pandemic.

```{r}
#| label: fig-diseases
#| fig-cap: Monthly cases of diseases
#| echo: false

# Define the diseases of interest
disease_focus <- c("HIV", "Salmonellosis", "Influenza - sporadic")

# Filter the dataset to extract only the rows for the specified diseases
extracted_data <- analysis_data %>% filter(Disease %in% disease_focus)

tibble(extracted_data)
```
- **Variable Explanation**
- "Disease": This variable represents the specific communicable diseases being analyzed in the dataset.
- "January - December" : These variables indicate the number of reported cases of each disease for each month in the year 2023. They provide a month-by-month breakdown of disease prevalence.

- I have cleaned the data by eliminating all unused diseases, and cancelled out all NA values or labels. I also changed the data type of numbers from str to double, in order to make sure the graphing process is accurate.

# Disease Analysis {#sec-point}

## HIV {#sec-first-point}

```{r}
#| label: sec-first-point
#| fig-cap: Monthly cases of HIV
#| echo: false

# Convert the dataset to long format for easier plotting
extracted_data_long <- extracted_data %>%
  pivot_longer(
    cols = January:December, # Adjust this based on your actual month column names
    names_to = "Month",
    values_to = "Cases"
  )

# Order the months correctly
extracted_data_long$Month <- factor(extracted_data_long$Month, 
                                   levels = c("January", "February", "March", "April", "May", "June", 
                                              "July", "August", "September", "October", "November", "December"))

# Plot for HIV
ggplot(extracted_data_long %>% filter(Disease == "HIV"), aes(x = Month, y = Cases)) +
  geom_bar(stat = "identity", fill = "skyblue") +
  geom_text(aes(label = Cases), vjust = -0.5, size = 3) +
  theme_minimal() +
  labs(title = "Monthly Trend of HIV in 2023",
       x = "Month",
       y = "Number of Cases") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

### Characteristics of HIV in 2023

- According to Figure.1, the number of HIV cases ranges from around 47 to 78 per month.

- There are noticeable fluctuations throughout the year, with peaks in May and October and a significant drop in April and September.

- The case count is relatively stable in other months, hovering between 50 and 75 cases.

### Summary

HIV cases in Ontario displayed moderate monthly fluctuations, with notable peaks in May and October. These variations could be influenced by changes in testing rates or social behaviors.
  

## Salmonellosis {#sec-sec-point}
```{r}
#| label: sec-sec-point
#| fig-cap: Monthly cases of Salmonellosis
#| echo: false

# Plot for Salmonellosis
ggplot(extracted_data_long %>% filter(Disease == "Salmonellosis"), aes(x = Month, y = Cases)) +
  geom_bar(stat = "identity", fill = "salmon") +
  geom_text(aes(label = Cases), vjust = -0.5, size = 3) +
  theme_minimal() +
  labs(title = "Monthly Trend of Salmonellosis in 2023",
       x = "Month",
       y = "Number of Cases") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

### Characteristics of Salmonellosis in 2023

- According to Figure.2, the number of cases ranges from 27 to 52 per month.

- There is a significant peak in July, with a steady increase from April, followed by a decline from August to December.

- Salmonellosis cases are highest in summer months, which is consistent with the bacteria's transmission patterns.

### Summary

Salmonellosis cases peaked in the summer months, particularly in July, likely reflecting increased risk factors such as outdoor food consumption and higher temperatures.


## Sporadic Influenza {#sec-trd-point}
```{r}
#| label: sec-trd-point
#| fig-cap: Monthly cases of Sporadic Influenza
#| echo: false

ggplot(extracted_data_long %>% filter(Disease == "Influenza - sporadic"), aes(x = Month, y = Cases)) +
  geom_bar(stat = "identity", fill = "lightgreen") +
  geom_text(aes(label = Cases), vjust = -0.5, size = 3) +
  theme_minimal() +
  labs(title = "Monthly Trend of Influenza - sporadic in 2023",
       x = "Month",
       y = "Number of Cases") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

### Characteristics of Sporadic Influenza in 2023

- According to Figure.3, there is a sharp increase in cases in December, reaching a peak of 1560 cases. The rest of the year shows relatively low numbers.

- A smaller peak in March and a gradual increase from October to November indicate sporadic activity.

### Summary

Sporadic Influenza cases spiked sharply in December, marking the onset of the flu season. A smaller peak in March suggests occasional outbreaks earlier in the year.

## Weaknesses and Next Steps {#sec-weakness}

### Limitations and Weaknesses of the Data Processing Process

1. **Temporal and Spatial Limitations:**
   - The analysis is limited to the year 2023, providing a short view without the ability to observe longer-term trends or compare with previous years.
   - This data might be affected by the COVID-19 symptoms due to pharmacological reasons.

2. **Lack of Contextual Factors:**
   - The data does not include contextual information such as socioeconomic factors, healthcare access, or specific public health interventions, which might be crucial for understanding the causes of disease trends.

4. **Statistical Perspective:**
   - The use of basic descriptive statistics and visualizations limits the depth of insights that can be derived, lacking more advanced statistical or predictive modeling techniques.

### Further Analysis for Each Disease

1. **HIV**
    - **Investigate Seasonal Factors:** Conduct a more detailed analysis of potential seasonal factors affecting HIV cases, such as changes in social behaviors, festivals, or events, which might influence the transmission rates.

    - **Public Health Interventions:** Evaluate the impact of specific public health initiatives, such as awareness campaigns, increased testing, or outreach programs, to determine their effectiveness in reducing HIV transmission during peak months.

    - **Longitudinal Analysis:** Extend the analysis to include data from previous years to identify long-term trends and changes in HIV incidence over time, adjusting for any policy or healthcare changes.

2. **Salmonellosis**
    - **Foodborne Outbreak Analysis:** Perform an investigation of foodborne outbreaks, and link the reported cases with specific food sources and outbreak reports from health agencies.

    - **Environmental and Behavioral Correlations:** Use environmental data and behavioral data (e.g., outdoor gatherings, food festivals) to build a model to explain seasonal fluctuations for cases of Salmonellosis.

3. **Sporadic Influenza**
    - **Seasonal Modeling:** Use additional data of vaccination and climates, develop a predictive model for influenza cases, in order to forecast future outbreaks and improve Ontario health systems.

    - **Healthcare System Impact:** Use additional data, analyze the impact of the winter peak on healthcare resources, like hospitalizations and ICU admissions, to evaluate the preparedness and resilience of the healthcare system during the flu season.


\newpage

\appendix

# Appendix {#sec-appen}

In this analysis, we utilized several data sources and tools. The dataset for communicable disease trends was obtained from the City of Toronto's Open Data Portal [@toronto2023data]. Data processing and visualization were performed using the `opendatatoronto` package [@opendatatoronto] in the R environment [@talia].

The `tidyverse` package was a crucial tool for data wrangling and visualization [@thereferencecanbewhatever]. Additionally, the `Lahman` package was used for data manipulation [@citeLahman], and Bayesian regression models were fitted using `rstanarm` [@rstanarm].

The analysis of the communicable disease trends showed significant seasonal variations in the data [@gebru2021datasheets].

Future work should focus on integrating more comprehensive datasets to provide a better understanding of the disease dynamics [@rohan].

\newpage


# References {#sec-ref}


